(function(n){jQuery.fn.jetmenu=function(t){function b(){f()<=991?(a(),l(),u==!0&&(o(),u=!1)):(v(),c(),r.align=="right"?(o(),u=!0):p())}function c(){if(navigator.userAgent.match(/Mobi/i)||window.navigator.msMaxTouchPoints>0||r.submenuTrigger=="click"){n(i).find("a").on("click touchstart",function(t){if(t.stopPropagation(),t.preventDefault(),n(this).parent("li").siblings("li").find(".dropdown, .megamenu").stop(!0,!0).fadeOut(r.closeSpeed),n(this).siblings(".dropdown, .megamenu").css("display")=="none")return n(this).siblings(".dropdown, .megamenu").stop(!0,!0).delay(r.delay).fadeIn(r.speed),!1;n(this).siblings(".dropdown, .megamenu").stop(!0,!0).fadeOut(r.speed);n(this).siblings(".dropdown").find(".dropdown").stop(!0,!0).fadeOut(r.closeSpeed);n(this).attr("target")=="_blank"||n(this).attr("target")=="blank"?window.open(n(this).attr("href")):window.location.href=n(this).attr("href")});n(i).find("li").bind("mouseleave",function(){n(this).children(".dropdown, .megamenu").stop(!0,!0).fadeOut(r.closeSpeed)});r.hideClickOut==!0&&n(document).bind("click.menu touchstart.menu",function(t){n(t.target).closest(i).length==0&&n(i).find(".dropdown, .megamenu").fadeOut(r.closeSpeed)})}else n(i).find("li").bind("mouseenter",function(){n(this).children(".dropdown, .megamenu").stop(!0,!0).delay(r.delay).fadeIn(r.speed)}).bind("mouseleave",function(){n(this).children(".dropdown, .megamenu").stop(!0,!0).delay(r.hideDelay).fadeOut(r.closeSpeed)})}function l(){n(i).find("li:not(.showhide)").each(function(){n(this).children(".dropdown, .megamenu").length>0&&n(this).children("a").bind("click",function(){if(n(this).siblings(".dropdown, .megamenu").css("display")=="none")return n(this).siblings(".dropdown, .megamenu").delay(r.delay).slideDown(r.speed).focus(),n(this).parent("li").siblings("li").find(".dropdown, .megamenu").slideUp(r.speed),!1;n(this).siblings(".dropdown, .megamenu").slideUp(r.speed).focus();firstItemClick=1})})}function a(){n(i).children("li:not(.showhide)").hide(0);n(i).children("li.showhide").show(0);n(i).children("li.showhide").bind("click",function(){n(i).children("li").is(":hidden")?(n(i).children("li").slideDown(r.speed),s(!0)):(n(i).children("li:not(.showhide)").slideUp(r.speed),n(i).children("li.showhide").show(0),n(i).find(".dropdown, .megamenu").hide(r.speed),s(!1))})}function v(){n(i).children("li").show(0);n(i).children("li.showhide").hide(0);s(!1)}function o(){var r,t;for(n(i).children("li").addClass("jsright"),r=n(i).children("li"),n(i).children("li:not(.showhide)").detach(),t=r.length;t>=1;t--)n(i).append(r[t]);y()}function y(){var r,t,u,f;for(n(i).children("li").removeClass("last"),r=n(i).children("li"),t=1;t<=r.length;t++)if(n(r[t]).children(".dropdown, .megamenu").length>0){for(u=0,f=1;f<=t;f++)u=u+n(r[f]).outerWidth();n(r[t]).children(".dropdown, .megamenu").outerWidth()>u&&n(r[t]).addClass("last")}}function p(){var t;n(i).children("li").removeClass("fix-sub");var r=n(i).children("li"),u=n(i).outerWidth();for(t=1;t<=r.length;t++)n(r[t]).children(".dropdown, .megamenu").length>0&&n(r[t]).position().left+n(r[t]).children(".dropdown, .megamenu").outerWidth()>u&&n(r[t]).addClass("fix-sub")}function w(){n(i).find("li, a").unbind();n(document).unbind("click.menu touchstart.menu");n(i).find(".dropdown, .megamenu").hide(0)}function f(){return n(window).width()+17}function s(t){r.scrollable&&(t?n(h).css("max-height",r.scrollableMaxHeight).addClass("scrollable"):n(h).css("max-height","auto").removeClass("scrollable"))}var r={indicator:!0,speed:150,closeSpeed:0,delay:0,hideDelay:100,hideClickOut:!0,align:"left",submenuTrigger:"hover",scrollable:!0,scrollableMaxHeight:400},i;n.extend(r,t);i=n(".jetmenu");n(i).wrap("<div class='jetmenu-wrapper'><\/div>");var h=n(".jetmenu-wrapper"),e=n(window).width(),u=!1;n(i).prepend("<li class='showhide'><span class='title'>MENU<\/span><span class='icon'><em><\/em><em><\/em><em><\/em><em><\/em><\/span><\/li>");r.indicator==!0&&n(i).find("a").each(function(){n(this).siblings(".dropdown, .megamenu").length>0&&n(this).append("<span class='indicator'>+<\/span>")});b();n(window).resize(function(){e<=991&&f()>991&&(w(),v(),c(),r.align=="right"&&u==!1&&(o(),u=!0));e>991&&f()<=991&&(w(),a(),l(),u==!0&&(o(),u=!1));r.align=="right"?e>991&&f()>991&&y():e>991&&f()>991&&p();e=f()})}})(jQuery);